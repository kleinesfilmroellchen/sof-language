<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Programming conventions - SOF Programming Language Documentation</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="Home.html">Home</a></li><li class="chapter-item expanded "><a href="Introduction.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Introduction/Stack.html"><strong aria-hidden="true">1.1.</strong> The Stack</a></li><li class="chapter-item expanded "><a href="Introduction/Names-Errors.html"><strong aria-hidden="true">1.2.</strong> Names and Errors</a></li><li class="chapter-item expanded "><a href="Introduction/Functions.html"><strong aria-hidden="true">1.3.</strong> Functions</a></li></ol></li><li class="chapter-item expanded "><a href="Reference.html"><strong aria-hidden="true">2.</strong> Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Reference/Language-Specification.html"><strong aria-hidden="true">2.1.</strong> Language specification</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Reference/Types.html"><strong aria-hidden="true">2.1.1.</strong> Types</a></li><li class="chapter-item expanded "><a href="Reference/PTs.html"><strong aria-hidden="true">2.1.2.</strong> Primitive Tokens</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Reference/PTs/Arithmetic-Logic.html"><strong aria-hidden="true">2.1.2.1.</strong> Arithmetic</a></li><li class="chapter-item expanded "><a href="Reference/PTs/Control-flow.html"><strong aria-hidden="true">2.1.2.2.</strong> Control flow</a></li><li class="chapter-item expanded "><a href="Reference/PTs/Stack.html"><strong aria-hidden="true">2.1.2.3.</strong> Stack &amp; Naming</a></li><li class="chapter-item expanded "><a href="Reference/PTs/Functional.html"><strong aria-hidden="true">2.1.2.4.</strong> Functional</a></li><li class="chapter-item expanded "><a href="Reference/PTs/Typing.html"><strong aria-hidden="true">2.1.2.5.</strong> Typing</a></li><li class="chapter-item expanded "><a href="Reference/PTs/Modules.html"><strong aria-hidden="true">2.1.2.6.</strong> Modules</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="Reference/Builtin-functions.html"><strong aria-hidden="true">2.2.</strong> Built-in functions</a></li><li class="chapter-item expanded "><a href="Reference/Module-System.html"><strong aria-hidden="true">2.3.</strong> Module system</a></li><li class="chapter-item expanded "><a href="Reference/Standard-Library.html"><strong aria-hidden="true">2.4.</strong> Standard library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Reference/Standard-Library/List.html"><strong aria-hidden="true">2.4.1.</strong> List methods</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.4.2.</strong> Float methods</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.4.3.</strong> Integer methods</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.4.4.</strong> String methods</div></li><li class="chapter-item expanded "><a href="Reference/Standard-Library/math.html"><strong aria-hidden="true">2.4.5.</strong> math</a></li></ol></li><li class="chapter-item expanded "><a href="Reference/Language-Internals.html"><strong aria-hidden="true">2.5.</strong> Language internals</a></li></ol></li><li class="chapter-item expanded "><a href="Programming-conventions.html" class="active"><strong aria-hidden="true">3.</strong> Programming conventions</a></li><li class="chapter-item expanded "><a href="Glossary.html"><strong aria-hidden="true">4.</strong> Glossary</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SOF Programming Language Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="how-to-write-readable-sof-code"><a class="header" href="#how-to-write-readable-sof-code">How to write readable SOF code</a></h1>
<p>This page will outline the conventions, idioms and common practices used when writing SOF code. Following this guide leads to good, idiomatic SOF code and APIs that other developers can use with ease. Most sections are in no particular order.</p>
<h2 id="whitespace-use"><a class="header" href="#whitespace-use">Whitespace use</a></h2>
<p>As SOF is very whitespace insensitive, good code uses whitespace to logically structure the otherwise pretty one-dimensional series of tokens.</p>
<h4 id="token-separation"><a class="header" href="#token-separation">Token separation</a></h4>
<p>Tokens on one line are separated with one single space. An exception is made when you want to align groups of tokens in multiple sequential lines: then, use of multiple spaces between tokens for alignment is encouraged.</p>
<p><em>Example</em>: Defining a number of variables in sequence: Don't do this:</p>
<pre><code class="language-sof">3 x def
&quot;string&quot; msg def
2 4 * eight def
</code></pre>
<p>Do this:</p>
<pre><code class="language-sof">3        x     def
&quot;string&quot; msg   def
2 4 *    eight def
</code></pre>
<h4 id="line-breaks-and-token-grouping"><a class="header" href="#line-breaks-and-token-grouping">Line breaks and token grouping</a></h4>
<p>Each line should contain one single action, or a logical unit of actions, which might require multiple tokens. In general, PTs should appear on the same line as their arguments, except when these arguments are already on the stack or require a lot of steps to be prepared.</p>
<p>For PTs that take code blocks, such as <code>if</code>, the last closing brace and the PT itself should be on the same line, except when line length would be a problem.</p>
<p>Code blocks should be split up into lines, where the opening and closing brace are on their own line, mimicking the &quot;braces on next line&quot; code style found in C-like languages. Exceptions are when the code block is very short (1-2 tokens) or contains only a single logical action (such as a function call with many parameters).</p>
<p><em>Example</em>: Don't do this:</p>
<pre><code class="language-sof"># define function
{ pop 15 + return } 2 function someFunction globaldef
# take user input, process it, store it, store a modified version, print one of two messages
input convert:int : true someFunction : dup x def 3 + y def { &quot;large&quot; } { &quot;small&quot; } y . 33 &lt; ifelse
</code></pre>
<p>Do this:</p>
<pre><code class="language-sof"># define function
{
    # discard first argument
    pop
    # compute something
    15 + return
} 2 function someFunction globaldef

# take user input
input convert:int :
# process it
true someFunction : dup
# store it
x def
# store a modified version
3 + y def
# print one of two messages
{ &quot;large&quot; } { &quot;small&quot; } y . 33 &lt; ifelse
</code></pre>
<h4 id="line-indentation"><a class="header" href="#line-indentation">Line indentation</a></h4>
<p>Indenting one level should only be done inside code blocks; this also includes functions and methods. The braces of the code blocks themselves should be on the original indentation level, mimicking the &quot;braces on next line&quot; code style found in C-like languages. Whole-line comments are indented as code would be.</p>
<p><em>Example</em>: Don't do this:</p>
<pre><code class="language-sof">3 x def
    {
# a comment
    3 someComputation :
 2 someComputation :
      4 writeln
 } 3 4 &lt; if
</code></pre>
<p>Do this:</p>
<pre><code class="language-sof">3 x def
{
    # a comment
    3 someComputation :
    2 someComputation :
    4 writeln
} 3 4 &lt; if
</code></pre>
<p>An exception to the indentation rule are methods: They, together with the constructor, should be aligned one level further than the surrounding code. The constructor defining calls themselves ( <code>3 constructor &lt;classname&gt; globaldef &lt;classname&gt; :</code> ) should be on the same indentation level as the surrounding code.</p>
<h2 id="naming-conventions"><a class="header" href="#naming-conventions">Naming conventions</a></h2>
<p>General naming in SOF is done with CamelCase. All names except for constructors (classes) should be lowercase, constructors are uppercase. <em>Examples</em>: <code>fooFunc</code>, <code>connectToWebservice</code>, <code>doCoolComputation</code>, <code>myVariable</code>, <code>vector1</code>, <code>MyClass</code>, <code>Circle</code>, <code>FileCommunicator</code>. Names in general should be self-explanatory and human-readable, avoid abbreviations and name collisions. (There is no significant speed benefit on shorter names, as all names are identified through some sort of hash)</p>
<p>Special naming conventions are used for functions that provide similar functionality (there is, of course, no function overloading in SOF): functions of this sort should be of the form <code>fname'args:variant</code>. <code>fname</code> is the general name of the function collection. <code>args</code> is either the number of arguments or the argument's types, separated by additional <code>'</code>. <code>variant</code> is either the variation on the base functionality or the return type.</p>
<p><em>Examples</em>: The functions <code>random:01</code>, <code>random:int</code> and <code>random:float</code> all provide randomness, but <code>:01</code> returns values between 0 and 1, <code>:int</code> returns integers in a range and <code>:float</code> returns floats in a range. Similarly, the function collection <code>convert:&lt;type&gt;</code> includes a lot of functions that convert to a specific type from other supported types. The <code>writef'&lt;argc&gt;</code> functions all provide formatted standard output writing, but with a different number of formatting arguments specified by the <code>argc</code>.</p>
<h3 id="cross-module-naming"><a class="header" href="#cross-module-naming">Cross-module naming</a></h3>
<p>Names in modules can use an underscore to separate pseudo-namespaces (identical to the module name) from actual names. If the function names are reasonably generic and the number of exports in a module is small, this can be omitted.</p>
<p>For example, all the list functions in standard library <code>list</code> have a <code>list_</code> prefix, such as <code>list_elem</code></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="Reference/Language-Internals.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="Glossary.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="Reference/Language-Internals.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="Glossary.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
